<!doctype html>
<html>
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CKQ1EXBHY6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-CKQ1EXBHY6');
  </script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Order Confirmed â€” AhamStree</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="assets/styles.css" />
</head>

<script type="module">
  import { clearCart } from "./assets/cart.js";
  clearCart();
</script>

<body>
  <div id="header"></div>

  <div class="container" style="max-width:560px; padding-top:40px; padding-bottom:60px;">
    <div class="card" style="padding:32px 24px; border-radius:20px; text-align:center;">

      <div id="successIcon" style="font-size:52px; line-height:1; margin-bottom:16px;">checkmark</div>
      <h2 id="successTitle" style="margin:0 0 10px;">Thank you for your order!</h2>
      <p id="successBody" style="opacity:.8; line-height:1.6; margin:0 0 24px;"></p>

      <div id="orderIdBox" style="display:none; margin-bottom:20px; padding:10px 14px; border-radius:12px; background:#f5f3f0; font-size:13px;">
        Order ID: <strong id="orderIdText"></strong>
      </div>

      <div style="display:flex; flex-direction:column; gap:10px;">
        <a class="btn" href="products.html">Continue shopping</a>
        <a class="btn secondary" href="orders.html">View my orders</a>
      </div>
    </div>
  </div>

  <div id="footer"></div>

  <script type="module">
    import { renderHeader, renderFooter, hydrateHeaderAuth } from "./assets/ui.js";
    document.getElementById("header").innerHTML = renderHeader("");
    document.getElementById("footer").innerHTML = renderFooter();
    hydrateHeaderAuth();

    const params  = new URLSearchParams(location.search);
    const method  = params.get("method");
    const orderId = params.get("order_id");

    const icon   = document.getElementById("successIcon");
    const title  = document.getElementById("successTitle");
    const body   = document.getElementById("successBody");
    const idBox  = document.getElementById("orderIdBox");
    const idText = document.getElementById("orderIdText");

    if (method === "cod") {
      icon.textContent  = "\u{1F4E6}";
      title.textContent = "Order placed successfully!";
      body.innerHTML    = "Your <strong>Cash on Delivery</strong> order has been received.<br>Our team will confirm it via <strong>WhatsApp or call within 2 hours</strong>. Please keep your phone reachable.";
    } else {
      icon.textContent  = "\u2705";
      title.textContent = "Payment successful!";
      body.textContent  = "Your payment is complete and your order is being processed. We\u2019ll send you updates shortly.";
    }

    if (orderId) {
      idBox.style.display = "block";
      idText.textContent  = orderId;
    }
  </script>
</body>
</html>
